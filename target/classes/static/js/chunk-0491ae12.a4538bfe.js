(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0491ae12"],{"33b5":function(t,e,a){},3855:function(t,e,a){"use strict";var n=a("a999"),s=a.n(n);s.a},9136:function(t,e,a){"use strict";var n=a("33b5"),s=a.n(n);s.a},a4d9:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nk-container"},[a("Navbar",{attrs:{"active-index":"4"}}),a("div",{staticClass:"main"},[a("div",{staticClass:"container"},[a("div",{staticClass:"position-relative"},[a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:t.handleSelect}},[a("el-menu-item",{attrs:{index:"1"}},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link position-relative active"},[t._v(" 朋友私信"),0!=t.letterUnreadCount?a("span",{staticClass:"badge badge-danger",domProps:{textContent:t._s(t.letterUnreadCount)}},[t._v("3")]):t._e()])])]),a("el-menu-item",{attrs:{index:"2"}},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link position-relative",attrs:{to:{name:"Notice"}}},[t._v("系统通知 "),0!=t.noticeUnreadCount?a("span",{staticClass:"badge badge-danger",domProps:{textContent:t._s(t.noticeUnreadCount)}}):t._e()])],1)])],1)],1),a("ul",{staticClass:"list-unstyled"},t._l(t.conversations,(function(e){return a("li",{staticClass:"media pb-3 pt-3 mb-3 border-bottom position-relative"},[0!=e.unreadCount?a("span",{staticClass:"badge badge-danger",domProps:{textContent:t._s(e.unreadCount)}}):t._e(),a("el-avatar",{staticClass:"mr-4 rounded-circle user-header",attrs:{src:t.uploadPath+e.target.avatar,alt:"用户头像"}}),a("div",{staticClass:"media-body"},[a("h6",{staticClass:"mt-0 mb-3"},[a("span",{staticClass:"text-success",domProps:{textContent:t._s(e.target.username)}},[t._v("闲人")]),a("span",{staticClass:"float-right text-muted font-size-12",domProps:{textContent:t._s(e.conversation.createTime)}})]),a("div",[a("router-link",{attrs:{to:{name:"LetterDetail",params:{cid:e.conversation.conversationId}}}},[t._v(" "+t._s(e.conversation.content)+" ")]),a("ul",{staticClass:"d-inline font-size-12 float-right"},[a("li",{staticClass:"d-inline ml-2"},[a("a",{staticClass:"text-primary",attrs:{href:"#"}},[t._v("共"),a("i",{domProps:{textContent:t._s(e.letterCount)}},[t._v("5")]),t._v("条会话")])])])],1)])],1)})),0),a("el-pagination",{staticClass:"mpage",attrs:{background:"",layout:"prev, pager, next","current-page":t.currentPage,"page-size":t.pageSize,total:t.total},on:{"current-change":t.page}})],1)])],1)},s=[],o=a("d178"),i={name:"Letter",components:{Navbar:o["a"]},data:function(){return{currentPage:1,total:0,pageSize:5,letterUnreadCount:0,noticeUnreadCount:0,conversations:{},uploadPath:this.$axios.defaults.baseURL,activeIndex:"1"}},created:function(){var t=this;this.$axios({method:"get",url:"/letter/list"}).then((function(e){console.log(e),t.letterUnreadCount=e.data.data.letterUnreadCount,t.noticeUnreadCount=e.data.data.noticeUnreadCount,t.conversations=e.data.data.records,t.currentPage=e.data.data.currentPage,t.total=e.data.data.total})).catch((function(t){console.log(t)}))},methods:{page:function(t){var e=this;this.$axios({method:"get",url:"/letter/list?currentPage="+t}).then((function(t){e.letterUnreadCount=t.data.data.letterUnreadCount,e.noticeUnreadCount=t.data.data.noticeUnreadCount,e.conversations=t.data.data.records,e.currentPage=t.data.data.currentPage,e.total=t.data.data.total,console.log(t)})).catch((function(t){console.log(t)}))},send:function(){this.$router.push({name:"SendLetter",params:{toName:""}})},handleSelect:function(t,e){console.log(t,e)}}},r=i,l=(a("3855"),a("2877")),c=Object(l["a"])(r,n,s,!1,null,"0a38cb14",null);e["default"]=c.exports},a999:function(t,e,a){},d178:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navbar"},[a("el-menu",{staticClass:"el-menu-demo myMenu",attrs:{"default-active":t.activeIndex,mode:"horizontal"},on:{select:t.handleSelect}},[a("el-menu-item",[t._v("关于本站")]),a("el-menu-item",{attrs:{index:"2"},on:{click:t.toIndex}},[t._v("最新")]),a("el-menu-item",{attrs:{index:"3"},on:{click:t.toHot}},[t._v("最热")]),a("el-menu-item",{attrs:{index:"4"},on:{click:t.toLetter}},[t._v("消息中心")]),a("el-menu-item",[a("el-input",{staticClass:"border-radius",model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("搜索")])],1),a("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:!t.$store.state.isLogin,expression:"!$store.state.isLogin"}],staticClass:"navInfo",on:{click:t.login}},[t._v("登录")]),a("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:!t.$store.state.isLogin,expression:"!$store.state.isLogin"}],staticClass:"navInfo",on:{click:t.register}},[t._v("注册")]),a("el-submenu",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.isLogin,expression:"$store.state.isLogin"}],staticClass:"navInfo",attrs:{index:"5"}},[a("template",{slot:"title"},[t._v("创建")]),a("el-menu-item",{attrs:{index:"5-1"},on:{click:function(e){return t.publish(0)}}},[t._v("提问")]),a("el-menu-item",{attrs:{index:"5-2"},on:{click:function(e){return t.publish(1)}}},[t._v("写文章")])],2),a("el-submenu",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.isLogin,expression:"$store.state.isLogin"}],staticClass:"navInfo",attrs:{index:"6"}},[a("el-menu-item",{domProps:{textContent:t._s(t.$store.state.userInfo.username)}}),a("template",{slot:"title"},[a("el-avatar",{attrs:{size:50,src:t.uploadPath+t.$store.state.userInfo.avatar}})],1),a("el-menu-item",{attrs:{index:"6-1"},on:{click:t.toHome}},[t._v("我的主页")]),a("el-menu-item",{attrs:{index:"6-2"},on:{click:t.toSetting}},[t._v("设置")]),a("el-menu-item",{attrs:{index:"6-2"},on:{click:t.toCollect}},[t._v("我的收藏")]),a("el-menu-item",{attrs:{index:"6-3"},on:{click:t.toUserPost}},[t._v("我的文章")]),a("el-menu-item",{attrs:{index:"6-4"},on:{click:t.logout}},[t._v("退出登录")])],2)],1),a("div",{staticClass:"line"})],1)},s=[],o={name:"Navbar",props:{activeIndex:{type:String,default:"2",required:!1}},created:function(){},data:function(){return{uploadPath:this.$axios.defaults.baseURL,isLogin:this.$store.state.isLogin,userInfo:this.$store.state.userInfo,keyword:""}},methods:{handleSelect:function(t,e){console.log(t,e)},toLetter:function(){this.$router.push("/letter")},login:function(){this.$router.push("/login")},register:function(){this.$router.push("/register")},logout:function(){this.$store.commit("logout")},publish:function(t){0==t?this.$router.push({path:"/post/query"}):this.$router.push({path:"/post/add"})},toIndex:function(){this.$router.push("/")},toHome:function(){var t=this;this.$router.push({name:"Profile",params:{uid:t.$store.state.userInfo.id}})},toHot:function(){this.$router.push({name:"Hot"})},search:function(){var t=this;this.$router.push({name:"Search",params:{keyword:t.keyword}})},toSetting:function(){this.$router.push("/setting")},toCollect:function(){var t=this;this.$router.push({name:"Collection",params:{uid:t.$store.state.userInfo.id}})},toUserPost:function(){var t=this;this.$router.push({name:"UserPosts",params:{uid:t.$store.state.userInfo.id}})}}},i=o,r=(a("9136"),a("2877")),l=Object(r["a"])(i,n,s,!1,null,"471a42fb",null);e["a"]=l.exports}}]);
//# sourceMappingURL=chunk-0491ae12.a4538bfe.js.map