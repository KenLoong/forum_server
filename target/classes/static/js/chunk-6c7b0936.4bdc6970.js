(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c7b0936"],{"2d94":function(t,e,s){"use strict";var a=s("8af9"),o=s.n(a);o.a},"33b5":function(t,e,s){},"4ef5":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"nk-container"},[s("Navbar",{attrs:{"active-index":"8"}}),s("div",{staticClass:"main"},[s("el-card",{staticClass:"myFlex"},[s("div",[s("h3",[t._v("头像")]),s("el-image",{staticClass:"myAvatar",attrs:{src:t.uploadPath+t.userInfo.avatar}},[s("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v(" 加载中"),s("span",{staticClass:"dot"},[t._v("...")])])]),s("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:t.avatarAction,headers:t.myHeader,accept:".jpg,.jpeg,.JPG,.JPEG,.PNG,.png","on-success":t.uploadSuccess,"before-upload":t.beforeUplaod,multiple:"",limit:1,"on-exceed":t.handleExceed,"list-type":"picture"}},[s("el-button",{attrs:{size:"small",type:"success"}},[t._v("修改头像")]),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过1M")])],1)],1)]),s("el-card",[t._v(" 用户名： "),s("span",{domProps:{textContent:t._s(t.userInfo.username)}}),s("br")]),s("el-card",[t._v(" 性别： "),s("span",{domProps:{textContent:t._s(0==t.userInfo.gender?"男":"女")}})]),s("el-card",[t._v(" 注册时间： "),s("span",{domProps:{textContent:t._s(t.userInfo.createTime)}})])],1)],1)},o=[],n=s("d178"),i={name:"Setting",components:{Navbar:n["a"]},data:function(){return{uploadPath:this.$axios.defaults.baseURL,userInfo:"",isMine:!1,likeCount:"",avatarAction:this.$axios.defaults.baseURL+"/user/avatar",myHeader:{Authorization:sessionStorage.getItem("JWT_TOKEN")}}},methods:{fail:function(t){this.$message.error(t)},handleExceed:function(t,e){this.$message.error("只能上传一张图片")},uploadSuccess:function(t,e,s){console.log(t),this.userInfo.avatar=t.msg,this.$store.commit("setUserInfo",this.userInfo)},beforeUplaod:function(t){var e=t.size/1024/1024<1;return e||this.$message.error("上传头像图片大小不能超过 1MB!"),e}},created:function(){var t=this;this.$axios({method:"get",url:"/user/getInfo"}).then((function(e){200==e.data.code?t.userInfo=e.data.data:t.fail(e.data.msg)})).catch((function(t){console.log(t)}))}},r=i,u=(s("2d94"),s("2877")),l=Object(u["a"])(r,a,o,!1,null,"12a91d7c",null);e["default"]=l.exports},"8af9":function(t,e,s){},9136:function(t,e,s){"use strict";var a=s("33b5"),o=s.n(a);o.a},d178:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"navbar"},[s("el-menu",{staticClass:"el-menu-demo myMenu",attrs:{"default-active":t.activeIndex,mode:"horizontal"},on:{select:t.handleSelect}},[s("el-menu-item",[t._v("关于本站")]),s("el-menu-item",{attrs:{index:"2"},on:{click:t.toIndex}},[t._v("最新")]),s("el-menu-item",{attrs:{index:"3"},on:{click:t.toHot}},[t._v("最热")]),s("el-menu-item",{attrs:{index:"4"},on:{click:t.toLetter}},[t._v("消息中心")]),s("el-menu-item",[s("el-input",{staticClass:"border-radius",model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),s("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("搜索")])],1),s("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:!t.$store.state.isLogin,expression:"!$store.state.isLogin"}],staticClass:"navInfo",on:{click:t.login}},[t._v("登录")]),s("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:!t.$store.state.isLogin,expression:"!$store.state.isLogin"}],staticClass:"navInfo",on:{click:t.register}},[t._v("注册")]),s("el-submenu",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.isLogin,expression:"$store.state.isLogin"}],staticClass:"navInfo",attrs:{index:"5"}},[s("template",{slot:"title"},[t._v("创建")]),s("el-menu-item",{attrs:{index:"5-1"},on:{click:function(e){return t.publish(0)}}},[t._v("提问")]),s("el-menu-item",{attrs:{index:"5-2"},on:{click:function(e){return t.publish(1)}}},[t._v("写文章")])],2),s("el-submenu",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.isLogin,expression:"$store.state.isLogin"}],staticClass:"navInfo",attrs:{index:"6"}},[s("el-menu-item",{domProps:{textContent:t._s(t.$store.state.userInfo.username)}}),s("template",{slot:"title"},[s("el-avatar",{attrs:{size:50,src:t.uploadPath+t.$store.state.userInfo.avatar}})],1),s("el-menu-item",{attrs:{index:"6-1"},on:{click:t.toHome}},[t._v("我的主页")]),s("el-menu-item",{attrs:{index:"6-2"},on:{click:t.toSetting}},[t._v("设置")]),s("el-menu-item",{attrs:{index:"6-2"},on:{click:t.toCollect}},[t._v("我的收藏")]),s("el-menu-item",{attrs:{index:"6-3"},on:{click:t.toUserPost}},[t._v("我的文章")]),s("el-menu-item",{attrs:{index:"6-4"},on:{click:t.logout}},[t._v("退出登录")])],2)],1),s("div",{staticClass:"line"})],1)},o=[],n={name:"Navbar",props:{activeIndex:{type:String,default:"2",required:!1}},created:function(){},data:function(){return{uploadPath:this.$axios.defaults.baseURL,isLogin:this.$store.state.isLogin,userInfo:this.$store.state.userInfo,keyword:""}},methods:{handleSelect:function(t,e){console.log(t,e)},toLetter:function(){this.$router.push("/letter")},login:function(){this.$router.push("/login")},register:function(){this.$router.push("/register")},logout:function(){this.$store.commit("logout")},publish:function(t){0==t?this.$router.push({path:"/post/query"}):this.$router.push({path:"/post/add"})},toIndex:function(){this.$router.push("/")},toHome:function(){var t=this;this.$router.push({name:"Profile",params:{uid:t.$store.state.userInfo.id}})},toHot:function(){this.$router.push({name:"Hot"})},search:function(){var t=this;this.$router.push({name:"Search",params:{keyword:t.keyword}})},toSetting:function(){this.$router.push("/setting")},toCollect:function(){var t=this;this.$router.push({name:"Collection",params:{uid:t.$store.state.userInfo.id}})},toUserPost:function(){var t=this;this.$router.push({name:"UserPosts",params:{uid:t.$store.state.userInfo.id}})}}},i=n,r=(s("9136"),s("2877")),u=Object(r["a"])(i,a,o,!1,null,"471a42fb",null);e["a"]=u.exports}}]);
//# sourceMappingURL=chunk-6c7b0936.4bdc6970.js.map